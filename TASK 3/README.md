# TASK 3 - Hệ thống quản lý trạm xăng Oracle SQL

Hệ thống cơ sở dữ liệu Oracle SQL để quản lý giao dịch trạm xăng với các chức năng báo cáo và thống kê.

## Mô tả dự án

Dự án xây dựng cơ sở dữ liệu quản lý hệ thống trạm xăng bao gồm:
- Quản lý thông tin trạm xăng
- Quản lý hàng hóa (xăng, dầu các loại)
- Quản lý trụ bơm tại mỗi trạm
- Ghi nhận và báo cáo giao dịch bán hàng
- Các truy vấn thống kê theo ngày, trạm, sản phẩm

## Cấu trúc dự án

```
TASK 3/
├── TASK3.sql           # Script SQL chính
└── README.md          # Tài liệu hướng dẫn
```

## Cấu trúc cơ sở dữ liệu

### Các bảng chính:
- **TRAMXANG**: Thông tin trạm xăng (mã trạm, tên, địa chỉ, SĐT)
- **HANGHOA**: Danh mục hàng hóa (mã hàng, tên, đơn giá)
- **TRUBOM**: Thông tin trụ bơm (mã trụ, số hiệu, trạm, loại hàng hóa)
- **GIAODICH**: Ghi nhận giao dịch bán hàng (thông tin giao dịch chi tiết)

### Các chức năng chính:
1. Truy vấn giao dịch theo trạm và khoảng thời gian
2. Thống kê doanh thu theo ngày cho trụ bơm
3. Thống kê doanh thu theo ngày cho trạm xăng
4. Báo cáo top sản phẩm bán chạy nhất theo tháng

## Hướng dẫn thực thi

### 1. Chuẩn bị môi trường
- Cài đặt Oracle Database
- Kết nối với Oracle SQL Developer hoặc SQL*Plus
- Đảm bảo có quyền tạo bảng và thực thi script

### 2. Chạy script cơ sở dữ liệu
```sql
-- Kết nối Oracle và chạy file TASK3.sql
@"d:\CODE FILES\SHUB\TASK 3\TASK3.sql"
```

### 3. Các bước thực hiện trong script:
1. **Thiết lập session**: Cho phép tạo user/schema
2. **Tạo bảng**: Tạo 4 bảng chính với ràng buộc và khóa ngoại
3. **Tạo index**: Tối ưu hiệu suất truy vấn
4. **Chèn dữ liệu mẫu**: 
   - 2 trạm xăng (Thủ Đức, Quận 6)
   - 4 loại hàng hóa (xăng E5, E10, dầu DO, KO)
   - 6 trụ bơm
   - 8 giao dịch mẫu
5. **Thực thi truy vấn**: 4 câu truy vấn báo cáo

### 4. Các truy vấn báo cáo có sẵn:
```sql
-- 1. Giao dịch theo trạm và thời gian
-- 2. Doanh thu theo ngày cho trụ bơm
-- 3. Doanh thu theo ngày cho trạm xăng  
-- 4. Top 3 sản phẩm bán chạy nhất theo tháng
```

## Tính năng nổi bật

- **Auto-increment ID**: Sử dụng `GENERATED BY DEFAULT AS IDENTITY`
- **Ràng buộc tham chiếu**: Đảm bảo tính toàn vẹn dữ liệu
- **Index tối ưu**: Tăng hiệu suất truy vấn theo ngày, trạm, hàng hóa
- **Dữ liệu mẫu**: Sẵn sàng test các chức năng
- **Truy vấn thống kê**: Báo cáo doanh thu đa dạng

## Lưu ý kỹ thuật

- Sử dụng Oracle SQL với cú pháp đặc thù
- Format ngày tháng: `TO_DATE('YYYY-MM-DD HH24:MI')`
- Sử dụng `TRUNC()` để nhóm theo ngày
- `FETCH FIRST n ROWS ONLY` cho limit kết quả
- Kiểu dữ liệu `NVARCHAR2` hỗ trợ Unicode

## Mở rộng

Có thể phát triển thêm:
- Giao diện web/desktop để quản lý
- API REST cho tích hợp hệ thống
- Báo cáo Excel export
- Thống kê nâng cao theo tháng/năm